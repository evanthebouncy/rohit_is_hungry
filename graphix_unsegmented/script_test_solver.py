from draw import *
from graphix_solver import *
from util import *
import sys
import hand_examples
from model import *
import time

squares_orig,lines_orig = mk_scene(hand_examples.ex_box_line1)
rendered_squares = render(squares_orig)
rendered_lines = render(lines_orig)
rendered = render(squares_orig + lines_orig)

grid_constraints_squares = img_2_labels(rendered_squares)
grid_constraints_lines =   img_2_labels(rendered_lines)
grid_constraints =   img_2_labels(rendered)
draw_allob(grid_constraints_squares, "hand_drawings/orig_squares.png", [])
draw_allob(grid_constraints_lines, "hand_drawings/orig_lines.png", [])
draw_allob(grid_constraints, "hand_drawings/orig.png", [])

constraints = img_2_constraints(rendered_squares, rendered_lines)

hints = {
}

stime = time.time()
CEGIS(constraints, rendered_squares, rendered_lines, [], hints)
print "total time "
print time.time() - stime
assert 0

def invert(constraints, name):
  solver = DrawingSolver()
  inverted_params = solver.solve(15, constraints)
  print "inverted parameters: "
  print inverted_params

  squares,lines = mk_scene(inverted_params)
  rendered = render(squares+lines)
  grid_constraints = img_2_labels(rendered)
  draw_allob(grid_constraints, "hand_drawings/recovered_{}.png".format(name), [])
  return inverted_params

# invert(constraints, "ex_box_line1")
# import random
# sub_constraints = [c for c in constraints if random.random() < 0.1]
# stime = time.time()
# CEGIS(constraints, rendered_squares, rendered_lines, sub_constraints, hints)
# print "total time "

# print time.time() - stime

chosen = [((35, 54), [1.0, 0.0]), ((57, 22), [1.0, 0.0]), ((55, 37), [1.0, 0.0]), ((17, 53), [1.0, 0.0]), ((1, 5), [1.0, 0.0]), ((55, 38), [1.0, 0.0]), ((8, 13), [1.0, 0.0]), ((59, 41), [1.0, 0.0]), ((0, 40), [1.0, 0.0]), ((33, 12), [1.0, 0.0]), ((51, 39), [1.0, 0.0]), ((56, 40), [1.0, 0.0]), ((57, 39), [1.0, 0.0]), ((56, 42), [1.0, 0.0]), ((54, 41), [1.0, 0.0]), ((52, 39), [1.0, 0.0]), ((57, 40), [1.0, 0.0]), ((29, 11), [1.0, 0.0]), ((4, 12), [1.0, 0.0]), ((53, 21), [1.0, 0.0]), ((53, 43), [1.0, 0.0]), ((58, 43), [1.0, 0.0]), ((58, 44), [1.0, 0.0]), ((55, 43), [1.0, 0.0]), ((55, 44), [1.0, 0.0]), ((60, 38), [1.0, 0.0]), ((60, 43), [1.0, 0.0]), ((50, 43), [1.0, 0.0]), ((57, 37), [0.0, 1.0]), ((50, 42), [1.0, 0.0]), ((57, 33), [1.0, 0.0]), ((57, 46), [1.0, 0.0]), ((54, 46), [1.0, 0.0]), ((52, 45), [1.0, 0.0]), ((57, 45), [1.0, 0.0]), ((51, 45), [1.0, 0.0]), ((56, 47), [1.0, 0.0]), ((51, 46), [1.0, 0.0]), ((57, 47), [1.0, 0.0]), ((54, 47), [1.0, 0.0]), ((53, 48), [1.0, 0.0]), ((55, 49), [1.0, 0.0]), ((55, 50), [1.0, 0.0]), ((59, 48), [1.0, 0.0]), ((60, 48), [1.0, 0.0]), ((50, 48), [1.0, 0.0]), ((47, 44), [1.0, 0.0]), ((55, 51), [1.0, 0.0]), ((57, 49), [0.0, 1.0]), ((61, 48), [1.0, 0.0]), ((54, 50), [0.0, 1.0]), ((54, 49), [0.0, 1.0]), ((46, 41), [1.0, 0.0]), ((5, 16), [1.0, 0.0]), ((30, 15), [1.0, 0.0]), ((46, 47), [1.0, 0.0]), ((2, 9), [1.0, 0.0]), ((3, 8), [1.0, 0.0]), ((7, 9), [1.0, 0.0]), ((56, 18), [1.0, 0.0]), ((6, 11), [1.0, 0.0]), ((5, 6), [1.0, 0.0]), ((5, 7), [1.0, 0.0]), ((44, 45), [1.0, 0.0]), ((5, 10), [1.0, 0.0]), ((44, 43), [1.0, 0.0]), ((43, 45), [1.0, 0.0]), ((0, 11), [1.0, 0.0]), ((52, 17), [1.0, 0.0]), ((1, 13), [1.0, 0.0]), ((3, 14), [1.0, 0.0]), ((9, 8), [1.0, 0.0]), ((40, 44), [1.0, 0.0]), ((8, 5), [1.0, 0.0]), ((2, 15), [1.0, 0.0]), ((9, 5), [1.0, 0.0]), ((42, 42), [1.0, 0.0]), ((10, 10), [1.0, 0.0]), ((3, 15), [1.0, 0.0]), ((47, 49), [1.0, 0.0]), ((3, 16), [0.0, 1.0]), ((41, 46), [1.0, 0.0]), ((40, 45), [0.0, 1.0]), ((41, 47), [1.0, 0.0]), ((55, 20), [1.0, 0.0]), ((45, 46), [1.0, 0.0]), ((34, 16), [1.0, 0.0]), ((41, 41), [1.0, 0.0]), ((9, 15), [1.0, 0.0]), ((9, 14), [1.0, 0.0]), ((9, 16), [0.0, 1.0]), ((59, 19), [1.0, 0.0]), ((54, 16), [1.0, 0.0]), ((41, 48), [0.0, 1.0]), ((51, 19), [1.0, 0.0]), ((32, 14), [1.0, 0.0]), ((58, 19), [1.0, 0.0]), ((54, 23), [1.0, 0.0]), ((59, 21), [1.0, 0.0]), ((31, 19), [1.0, 0.0]), ((57, 15), [1.0, 0.0]), ((60, 23), [1.0, 0.0]), ((60, 17), [1.0, 0.0]), ((50, 15), [1.0, 0.0]), ((61, 23), [1.0, 0.0]), ((62, 18), [1.0, 0.0]), ((57, 17), [1.0, 0.0]), ((60, 15), [1.0, 0.0]), ((33, 18), [1.0, 0.0]), ((31, 10), [1.0, 0.0]), ((62, 19), [0.0, 1.0]), ((53, 14), [1.0, 0.0]), ((53, 13), [1.0, 0.0]), ((58, 13), [1.0, 0.0]), ((55, 13), [1.0, 0.0]), ((55, 14), [1.0, 0.0]), ((56, 13), [1.0, 0.0]), ((59, 13), [1.0, 0.0]), ((29, 17), [1.0, 0.0]), ((28, 13), [1.0, 0.0]), ((27, 9), [1.0, 0.0]), ((26, 14), [1.0, 0.0]), ((26, 16), [1.0, 0.0]), ((35, 13), [1.0, 0.0]), ((50, 22), [1.0, 0.0]), ((27, 16), [1.0, 0.0]), ((30, 21), [1.0, 0.0]), ((27, 18), [1.0, 0.0]), ((25, 12), [1.0, 0.0]), ((55, 25), [1.0, 0.0]), ((22, 15), [1.0, 0.0]), ((34, 9), [1.0, 0.0]), ((25, 19), [1.0, 0.0]), ((22, 13), [1.0, 0.0]), ((47, 18), [1.0, 0.0]), ((47, 20), [1.0, 0.0]), ((37, 14), [1.0, 0.0]), ((22, 17), [1.0, 0.0]), ((37, 19), [1.0, 0.0]), ((47, 17), [1.0, 0.0]), ((37, 16), [0.0, 1.0]), ((43, 19), [1.0, 0.0]), ((18, 16), [1.0, 0.0]), ((18, 14), [1.0, 0.0]), ((46, 21), [1.0, 0.0]), ((44, 19), [1.0, 0.0]), ((37, 18), [0.0, 1.0]), ((19, 16), [1.0, 0.0]), ((47, 15), [0.0, 1.0]), ((46, 16), [1.0, 0.0]), ((41, 16), [1.0, 0.0]), ((41, 18), [1.0, 0.0]), ((20, 12), [1.0, 0.0]), ((21, 18), [1.0, 0.0]), ((20, 18), [1.0, 0.0]), ((45, 22), [1.0, 0.0]), ((15, 15), [1.0, 0.0]), ((42, 22), [1.0, 0.0]), ((14, 15), [1.0, 0.0]), ((16, 18), [1.0, 0.0]), ((15, 16), [0.0, 1.0]), ((23, 18), [0.0, 1.0]), ((16, 13), [1.0, 0.0]), ((17, 13), [1.0, 0.0]), ((17, 17), [1.0, 0.0]), ((47, 25), [1.0, 0.0]), ((22, 22), [1.0, 0.0]), ((42, 14), [1.0, 0.0]), ((17, 10), [1.0, 0.0]), ((1, 36), [1.0, 0.0]), ((14, 13), [0.0, 1.0]), ((15, 13), [0.0, 1.0]), ((4, 39), [1.0, 0.0]), ((3, 39), [1.0, 0.0]), ((2, 32), [1.0, 0.0]), ((54, 25), [0.0, 1.0]), ((3, 32), [1.0, 0.0]), ((3, 38), [1.0, 0.0]), ((39, 39), [1.0, 0.0]), ((51, 49), [0.0, 1.0]), ((5, 35), [1.0, 0.0]), ((6, 35), [1.0, 0.0]), ((4, 34), [1.0, 0.0]), ((5, 34), [1.0, 0.0]), ((7, 37), [1.0, 0.0]), ((6, 36), [1.0, 0.0]), ((7, 40), [1.0, 0.0]), ((6, 37), [1.0, 0.0]), ((5, 42), [1.0, 0.0]), ((5, 37), [1.0, 0.0]), ((8, 33), [1.0, 0.0]), ((8, 38), [1.0, 0.0]), ((9, 33), [1.0, 0.0]), ((9, 38), [1.0, 0.0]), ((7, 31), [1.0, 0.0]), ((9, 39), [1.0, 0.0]), ((10, 38), [1.0, 0.0]), ((8, 32), [1.0, 0.0]), ((6, 30), [1.0, 0.0]), ((10, 34), [1.0, 0.0]), ((11, 35), [1.0, 0.0]), ((12, 35), [1.0, 0.0]), ((11, 38), [0.0, 1.0]), ((5, 29), [1.0, 0.0]), ((0, 35), [1.0, 0.0]), ((0, 33), [1.0, 0.0]), ((3, 42), [0.0, 1.0]), ((5, 28), [1.0, 0.0]), ((12, 40), [1.0, 0.0]), ((13, 35), [1.0, 0.0]), ((12, 38), [0.0, 1.0]), ((6, 29), [0.0, 1.0]), ((1, 30), [1.0, 0.0]), ((11, 33), [0.0, 1.0]), ((1, 31), [1.0, 0.0]), ((12, 39), [0.0, 1.0]), ((12, 34), [0.0, 1.0]), ((12, 33), [0.0, 1.0]), ((42, 37), [1.0, 0.0]), ((16, 38), [1.0, 0.0]), ((1, 29), [0.0, 1.0]), ((17, 34), [1.0, 0.0]), ((35, 38), [1.0, 0.0]), ((43, 33), [1.0, 0.0]), ((35, 40), [1.0, 0.0]), ((44, 33), [1.0, 0.0]), ((17, 42), [1.0, 0.0]), ((20, 37), [1.0, 0.0]), ((41, 33), [1.0, 0.0]), ((16, 43), [1.0, 0.0]), ((45, 33), [0.0, 1.0]), ((41, 37), [0.0, 1.0]), ((42, 29), [1.0, 0.0]), ((19, 41), [1.0, 0.0]), ((18, 39), [1.0, 0.0]), ((19, 40), [1.0, 0.0]), ((21, 41), [1.0, 0.0]), ((31, 39), [1.0, 0.0]), ((18, 40), [1.0, 0.0]), ((19, 39), [1.0, 0.0]), ((22, 38), [1.0, 0.0]), ((49, 33), [1.0, 0.0]), ((22, 43), [1.0, 0.0]), ((22, 42), [1.0, 0.0]), ((33, 42), [1.0, 0.0]), ((33, 36), [1.0, 0.0]), ((40, 31), [1.0, 0.0]), ((40, 32), [1.0, 0.0]), ((40, 30), [1.0, 0.0]), ((22, 44), [1.0, 0.0]), ((25, 40), [1.0, 0.0]), ((40, 34), [0.0, 1.0]), ((26, 41), [1.0, 0.0]), ((25, 39), [1.0, 0.0]), ((36, 29), [1.0, 0.0]), ((47, 31), [1.0, 0.0]), ((29, 43), [1.0, 0.0]), ((29, 37), [1.0, 0.0]), ((47, 32), [1.0, 0.0]), ((37, 29), [1.0, 0.0]), ((30, 40), [1.0, 0.0]), ((26, 36), [1.0, 0.0]), ((27, 38), [1.0, 0.0]), ((28, 38), [1.0, 0.0]), ((32, 41), [1.0, 0.0]), ((26, 35), [1.0, 0.0]), ((37, 30), [0.0, 1.0]), ((49, 32), [0.0, 1.0]), ((30, 35), [1.0, 0.0]), ((32, 35), [1.0, 0.0]), ((31, 44), [1.0, 0.0]), ((34, 37), [1.0, 0.0]), ((24, 38), [0.0, 1.0]), ((34, 34), [1.0, 0.0]), ((27, 44), [1.0, 0.0]), ((34, 44), [1.0, 0.0]), ((23, 41), [0.0, 1.0]), ((28, 44), [1.0, 0.0]), ((25, 34), [1.0, 0.0]), ((30, 45), [1.0, 0.0]), ((24, 44), [0.0, 1.0]), ((29, 45), [0.0, 1.0]), ((28, 45), [0.0, 1.0]), ((31, 45), [0.0, 1.0]), ((21, 44), [0.0, 1.0]), ((15, 29), [1.0, 0.0]), ((16, 29), [1.0, 0.0]), ((41, 7), [1.0, 0.0]), ((47, 55), [1.0, 0.0]), ((4, 60), [1.0, 0.0]), ((17, 25), [1.0, 0.0]), ((19, 28), [1.0, 0.0]), ((18, 25), [1.0, 0.0]), ((19, 27), [1.0, 0.0]), ((0, 59), [1.0, 0.0]), ((43, 54), [1.0, 0.0]), ((18, 27), [1.0, 0.0]), ((5, 56), [1.0, 0.0]), ((43, 56), [1.0, 0.0]), ((0, 61), [1.0, 0.0]), ((1, 57), [1.0, 0.0]), ((2, 57), [1.0, 0.0]), ((2, 58), [1.0, 0.0]), ((3, 58), [1.0, 0.0]), ((14, 29), [0.0, 1.0]), ((3, 57), [1.0, 0.0]), ((1, 55), [1.0, 0.0]), ((44, 58), [1.0, 0.0]), ((20, 27), [0.0, 1.0]), ((1, 63), [1.0, 0.0]), ((6, 59), [1.0, 0.0]), ((7, 59), [1.0, 0.0]), ((5, 61), [1.0, 0.0]), ((5, 62), [1.0, 0.0]), ((40, 57), [1.0, 0.0]), ((6, 61), [1.0, 0.0]), ((22, 29), [1.0, 0.0]), ((40, 55), [1.0, 0.0]), ((8, 59), [1.0, 0.0]), ((41, 57), [1.0, 0.0]), ((9, 63), [1.0, 0.0]), ((9, 60), [1.0, 0.0]), ((9, 55), [1.0, 0.0]), ((10, 60), [1.0, 0.0]), ((9, 57), [1.0, 0.0]), ((42, 60), [1.0, 0.0]), ((42, 59), [1.0, 0.0]), ((10, 62), [1.0, 0.0]), ((9, 58), [1.0, 0.0]), ((10, 58), [1.0, 0.0]), ((9, 54), [0.0, 1.0]), ((40, 59), [0.0, 1.0]), ((43, 59), [0.0, 1.0]), ((44, 59), [0.0, 1.0]), ((41, 59), [0.0, 1.0]), ((41, 60), [0.0, 1.0]), ((39, 57), [0.0, 1.0]), ((34, 63), [1.0, 0.0]), ((30, 57), [1.0, 0.0]), ((15, 0), [1.0, 0.0]), ((31, 61), [1.0, 0.0]), ((30, 62), [1.0, 0.0]), ((35, 59), [1.0, 0.0]), ((32, 61), [1.0, 0.0]), ((33, 59), [1.0, 0.0]), ((29, 61), [1.0, 0.0]), ((31, 60), [1.0, 0.0]), ((5, 50), [1.0, 0.0]), ((32, 59), [1.0, 0.0]), ((16, 4), [1.0, 0.0]), ((36, 59), [0.0, 1.0]), ((27, 59), [1.0, 0.0]), ((32, 57), [0.0, 1.0]), ((31, 57), [0.0, 1.0]), ((27, 63), [1.0, 0.0]), ((28, 63), [1.0, 0.0]), ((26, 63), [1.0, 0.0]), ((26, 60), [1.0, 0.0]), ((26, 59), [1.0, 0.0]), ((25, 60), [1.0, 0.0]), ((22, 62), [1.0, 0.0]), ((24, 63), [0.0, 1.0]), ((26, 57), [0.0, 1.0]), ((35, 55), [0.0, 1.0]), ((24, 60), [0.0, 1.0]), ((26, 58), [0.0, 1.0]), ((19, 1), [1.0, 0.0]), ((19, 2), [1.0, 0.0]), ((18, 1), [1.0, 0.0]), ((19, 3), [1.0, 0.0]), ((26, 54), [1.0, 0.0]), ((20, 63), [1.0, 0.0]), ((21, 63), [1.0, 0.0]), ((17, 5), [1.0, 0.0]), ((19, 5), [0.0, 1.0]), ((23, 54), [1.0, 0.0]), ((18, 63), [1.0, 0.0]), ((22, 53), [1.0, 0.0]), ((20, 1), [0.0, 1.0]), ((22, 54), [1.0, 0.0]), ((23, 63), [0.0, 1.0]), ((23, 53), [0.0, 1.0]), ((19, 52), [1.0, 0.0]), ((19, 51), [1.0, 0.0]), ((22, 55), [0.0, 1.0]), ((19, 50), [1.0, 0.0]), ((17, 60), [1.0, 0.0]), ((16, 5), [0.0, 1.0]), ((17, 59), [1.0, 0.0]), ((18, 51), [1.0, 0.0]), ((19, 49), [0.0, 1.0]), ((21, 54), [0.0, 1.0]), ((20, 51), [0.0, 1.0]), ((19, 48), [0.0, 1.0]), ((16, 62), [1.0, 0.0]), ((15, 54), [1.0, 0.0]), ((16, 54), [1.0, 0.0]), ((59, 63), [1.0, 0.0]), ((5, 22), [1.0, 0.0]), ((55, 59), [1.0, 0.0]), ((14, 54), [0.0, 1.0]), ((51, 58), [1.0, 0.0]), ((54, 63), [1.0, 0.0]), ((59, 58), [1.0, 0.0]), ((11, 58), [0.0, 1.0]), ((31, 29), [1.0, 0.0]), ((30, 27), [1.0, 0.0]), ((61, 58), [1.0, 0.0]), ((30, 26), [1.0, 0.0]), ((62, 58), [1.0, 0.0]), ((59, 59), [0.0, 1.0]), ((31, 27), [0.0, 1.0]), ((62, 33), [1.0, 0.0]), ((63, 33), [1.0, 0.0]), ((44, 5), [1.0, 0.0]), ((30, 52), [1.0, 0.0]), ((30, 51), [1.0, 0.0]), ((43, 53), [0.0, 1.0]), ((46, 33), [0.0, 1.0]), ((17, 61), [0.0, 1.0]), ((40, 4), [1.0, 0.0]), ((46, 49), [0.0, 1.0]), ((18, 60), [0.0, 1.0]), ((42, 9), [1.0, 0.0]), ((43, 8), [1.0, 0.0]), ((42, 4), [1.0, 0.0]), ((17, 11), [0.0, 1.0]), ((40, 6), [1.0, 0.0]), ((13, 34), [0.0, 1.0]), ((41, 15), [0.0, 1.0]), ((43, 9), [0.0, 1.0]), ((41, 9), [0.0, 1.0]), ((39, 4), [0.0, 1.0]), ((16, 59), [0.0, 1.0]), ((55, 31), [1.0, 0.0]), ((0, 6), [1.0, 0.0]), ((55, 30), [1.0, 0.0]), ((9, 42), [0.0, 1.0]), ((40, 28), [0.0, 1.0]), ((61, 22), [0.0, 1.0]), ((40, 3), [0.0, 1.0]), ((31, 21), [0.0, 1.0]), ((51, 59), [0.0, 1.0]), ((39, 38), [0.0, 1.0]), ((55, 12), [0.0, 1.0]), ((37, 13), [0.0, 1.0]), ((56, 51), [0.0, 1.0]), ((18, 10), [0.0, 1.0]), ((48, 17), [0.0, 1.0]), ((57, 31), [0.0, 1.0]), ((40, 41), [0.0, 1.0]), ((46, 25), [0.0, 1.0]), ((21, 19), [0.0, 1.0]), ((18, 24), [0.0, 1.0]), ((22, 49), [1.0, 0.0]), ((21, 22), [0.0, 1.0]), ((9, 4), [0.0, 1.0]), ((15, 10), [1.0, 0.0]), ((61, 47), [0.0, 1.0]), ((45, 17), [1.0, 0.0]), ((11, 5), [0.0, 1.0]), ((42, 40), [0.0, 1.0]), ((61, 13), [0.0, 1.0]), ((14, 18), [0.0, 1.0]), ((49, 48), [0.0, 1.0]), ((35, 18), [1.0, 0.0]), ((34, 33), [0.0, 1.0]), ((1, 54), [0.0, 1.0]), ((61, 17), [0.0, 1.0]), ((7, 28), [0.0, 1.0]), ((61, 18), [1.0, 0.0]), ((30, 33), [1.0, 0.0]), ((48, 45), [0.0, 1.0]), ((47, 34), [0.0, 1.0]), ((26, 33), [0.0, 1.0]), ((23, 12), [0.0, 1.0]), ((31, 54), [1.0, 0.0]), ((49, 22), [0.0, 1.0]), ((40, 47), [0.0, 1.0]), ((54, 30), [0.0, 1.0]), ((31, 52), [0.0, 1.0]), ((31, 51), [0.0, 1.0]), ((54, 33), [1.0, 0.0]), ((49, 43), [0.0, 1.0]), ((26, 29), [1.0, 0.0]), ((42, 26), [0.0, 1.0]), ((39, 33), [0.0, 1.0]), ((49, 39), [0.0, 1.0]), ((22, 11), [0.0, 1.0]), ((52, 37), [0.0, 1.0]), ((19, 30), [0.0, 1.0]), ((36, 31), [0.0, 1.0]), ((54, 59), [0.0, 1.0]), ((61, 19), [0.0, 1.0]), ((22, 60), [0.0, 1.0]), ((14, 62), [0.0, 1.0]), ((53, 11), [0.0, 1.0]), ((48, 31), [0.0, 1.0]), ((26, 27), [0.0, 1.0]), ((59, 62), [0.0, 1.0]), ((17, 30), [1.0, 0.0]), ((54, 58), [1.0, 0.0]), ((20, 34), [0.0, 1.0]), ((14, 60), [1.0, 0.0]), ((54, 37), [0.0, 1.0]), ((42, 34), [1.0, 0.0]), ((45, 14), [0.0, 1.0]), ((62, 32), [0.0, 1.0]), ((61, 57), [0.0, 1.0]), ((5, 54), [1.0, 0.0]), ((16, 30), [0.0, 1.0]), ((15, 30), [0.0, 1.0]), ((43, 34), [0.0, 1.0]), ((54, 62), [0.0, 1.0]), ((15, 26), [1.0, 0.0]), ((44, 34), [0.0, 1.0]), ((3, 54), [0.0, 1.0]), ((60, 24), [0.0, 1.0]), ((29, 26), [0.0, 1.0]), ((63, 34), [0.0, 1.0]), ((55, 62), [1.0, 0.0]), ((4, 50), [0.0, 1.0]), ((35, 58), [0.0, 1.0]), ((6, 50), [0.0, 1.0]), ((4, 22), [0.0, 1.0]), ((24, 13), [0.0, 1.0]), ((4, 55), [1.0, 0.0]), ((39, 42), [0.0, 1.0]), ((24, 16), [0.0, 1.0]), ((52, 22), [1.0, 0.0]), ((35, 62), [1.0, 0.0]), ((36, 18), [0.0, 1.0]), ((25, 22), [0.0, 1.0]), ((34, 45), [0.0, 1.0]), ((62, 15), [0.0, 1.0]), ((22, 24), [1.0, 0.0]), ((48, 55), [0.0, 1.0]), ((8, 29), [0.0, 1.0]), ((31, 33), [0.0, 1.0]), ((5, 3), [0.0, 1.0]), ((31, 34), [1.0, 0.0]), ((23, 24), [0.0, 1.0]), ((19, 24), [0.0, 1.0]), ((34, 43), [1.0, 0.0]), ((34, 8), [0.0, 1.0]), ((12, 43), [0.0, 1.0]), ((49, 17), [0.0, 1.0]), ((26, 52), [0.0, 1.0]), ((19, 36), [0.0, 1.0]), ((15, 14), [0.0, 1.0]), ((34, 11), [1.0, 0.0]), ((27, 20), [0.0, 1.0]), ((1, 4), [0.0, 1.0]), ((27, 21), [0.0, 1.0]), ((16, 44), [0.0, 1.0]), ((22, 35), [0.0, 1.0]), ((27, 8), [0.0, 1.0]), ((51, 63), [1.0, 0.0]), ((29, 21), [0.0, 1.0]), ((2, 28), [0.0, 1.0]), ((51, 62), [0.0, 1.0]), ((17, 21), [0.0, 1.0]), ((59, 25), [0.0, 1.0]), ((36, 19), [1.0, 0.0]), ((41, 21), [1.0, 0.0]), ((0, 56), [1.0, 0.0]), ((7, 41), [0.0, 1.0]), ((48, 22), [0.0, 1.0]), ((48, 33), [1.0, 0.0]), ((15, 55), [0.0, 1.0]), ((48, 32), [0.0, 1.0]), ((0, 41), [0.0, 1.0]), ((39, 44), [1.0, 0.0]), ((59, 50), [0.0, 1.0]), ((2, 16), [0.0, 1.0]), ((24, 49), [0.0, 1.0]), ((53, 51), [0.0, 1.0]), ((26, 32), [0.0, 1.0]), ((61, 63), [0.0, 1.0]), ((61, 38), [0.0, 1.0]), ((39, 46), [0.0, 1.0]), ((3, 63), [1.0, 0.0]), ((13, 38), [0.0, 1.0]), ((20, 10), [0.0, 1.0]), ((60, 63), [1.0, 0.0]), ((37, 21), [0.0, 1.0]), ((57, 36), [0.0, 1.0]), ((53, 38), [1.0, 0.0]), ((2, 38), [1.0, 0.0]), ((14, 0), [0.0, 1.0]), ((17, 0), [1.0, 0.0]), ((13, 40), [1.0, 0.0]), ((23, 59), [0.0, 1.0]), ((21, 29), [0.0, 1.0]), ((26, 10), [1.0, 0.0]), ((60, 22), [1.0, 0.0]), ((20, 25), [0.0, 1.0]), ((49, 63), [0.0, 1.0]), ((14, 25), [0.0, 1.0]), ((54, 31), [0.0, 1.0]), ((13, 29), [0.0, 1.0]), ((45, 5), [0.0, 1.0]), ((62, 63), [0.0, 1.0]), ((10, 6), [1.0, 0.0]), ((42, 20), [1.0, 0.0]), ((10, 12), [1.0, 0.0]), ((37, 39), [1.0, 0.0]), ((29, 42), [1.0, 0.0]), ((41, 58), [1.0, 0.0]), ((45, 58), [0.0, 1.0]), ((37, 40), [0.0, 1.0]), ((37, 38), [0.0, 1.0]), ((42, 23), [0.0, 1.0]), ((37, 37), [0.0, 1.0]), ((37, 36), [0.0, 1.0]), ((37, 43), [0.0, 1.0]), ((48, 58), [1.0, 0.0]), ((37, 62), [0.0, 1.0]), ((13, 42), [0.0, 1.0]), ((62, 56), [0.0, 1.0]), ((48, 60), [0.0, 1.0]), ((30, 20), [1.0, 0.0]), ((41, 49), [0.0, 1.0]), ((40, 53), [0.0, 1.0]), ((16, 19), [0.0, 1.0]), ((39, 54), [1.0, 0.0]), ((50, 17), [1.0, 0.0]), ((4, 42), [0.0, 1.0]), ((32, 9), [1.0, 0.0]), ((15, 9), [0.0, 1.0]), ((36, 9), [0.0, 1.0]), ((39, 55), [0.0, 1.0]), ((33, 20), [0.0, 1.0]), ((31, 20), [0.0, 1.0]), ((34, 20), [0.0, 1.0]), ((39, 56), [0.0, 1.0]), ((11, 26), [0.0, 1.0]), ((46, 58), [0.0, 1.0]), ((11, 12), [0.0, 1.0]), ((25, 30), [0.0, 1.0]), ((31, 17), [1.0, 0.0]), ((34, 17), [1.0, 0.0]), ((46, 37), [0.0, 1.0]), ((42, 2), [0.0, 1.0]), ((60, 61), [0.0, 1.0]), ((55, 56), [1.0, 0.0]), ((60, 49), [0.0, 1.0]), ((20, 54), [0.0, 1.0]), ((31, 30), [0.0, 1.0]), ((11, 63), [0.0, 1.0]), ((54, 56), [0.0, 1.0]), ((51, 56), [0.0, 1.0]), ((56, 56), [0.0, 1.0]), ((36, 17), [0.0, 1.0]), ((53, 56), [0.0, 1.0]), ((14, 59), [0.0, 1.0]), ((31, 58), [0.0, 1.0]), ((63, 43), [1.0, 0.0]), ((5, 41), [1.0, 0.0]), ((50, 25), [0.0, 1.0]), ((63, 41), [0.0, 1.0]), ((30, 58), [1.0, 0.0]), ((63, 42), [0.0, 1.0]), ((63, 44), [0.0, 1.0]), ((52, 24), [0.0, 1.0]), ((0, 3), [0.0, 1.0]), ((45, 25), [0.0, 1.0]), ((36, 27), [0.0, 1.0]), ((54, 18), [1.0, 0.0]), ((37, 11), [0.0, 1.0]), ((38, 6), [0.0, 1.0]), ((13, 0), [0.0, 1.0]), ((15, 23), [0.0, 1.0]), ((10, 3), [0.0, 1.0]), ((50, 52), [0.0, 1.0]), ((23, 50), [0.0, 1.0]), ((34, 47), [0.0, 1.0]), ((28, 18), [1.0, 0.0]), ((27, 46), [0.0, 1.0]), ((8, 63), [1.0, 0.0]), ((24, 18), [0.0, 1.0]), ((30, 46), [1.0, 0.0]), ((35, 50), [0.0, 1.0]), ((44, 30), [1.0, 0.0]), ((6, 22), [0.0, 1.0]), ((30, 13), [1.0, 0.0]), ((51, 40), [1.0, 0.0]), ((17, 45), [0.0, 1.0]), ((22, 56), [0.0, 1.0]), ((60, 26), [0.0, 1.0]), ((33, 46), [0.0, 1.0]), ((29, 46), [0.0, 1.0]), ((47, 40), [0.0, 1.0]), ((31, 46), [0.0, 1.0]), ((51, 36), [0.0, 1.0]), ((51, 37), [0.0, 1.0]), ((9, 18), [0.0, 1.0]), ((22, 1), [0.0, 1.0]), ((40, 22), [0.0, 1.0]), ((29, 51), [0.0, 1.0]), ((55, 36), [1.0, 0.0]), ((47, 35), [0.0, 1.0]), ((41, 24), [0.0, 1.0]), ((26, 7), [0.0, 1.0]), ((47, 42), [1.0, 0.0]), ((61, 21), [0.0, 1.0]), ((47, 41), [1.0, 0.0]), ((8, 16), [0.0, 1.0]), ((32, 7), [0.0, 1.0]), ((44, 27), [0.0, 1.0]), ((48, 41), [0.0, 1.0]), ((48, 42), [0.0, 1.0]), ((45, 30), [0.0, 1.0]), ((2, 62), [1.0, 0.0]), ((18, 49), [0.0, 1.0]), ((21, 3), [0.0, 1.0]), ((43, 52), [0.0, 1.0]), ((56, 30), [0.0, 1.0]), ((50, 12), [0.0, 1.0]), ((44, 1), [0.0, 1.0]), ((56, 36), [0.0, 1.0]), ((38, 57), [0.0, 1.0]), ((4, 7), [1.0, 0.0]), ((7, 56), [1.0, 0.0]), ((46, 8), [0.0, 1.0]), ((47, 8), [0.0, 1.0]), ((60, 35), [0.0, 1.0]), ((3, 41), [0.0, 1.0]), ((59, 10), [0.0, 1.0]), ((59, 12), [0.0, 1.0]), ((59, 14), [1.0, 0.0]), ((44, 8), [1.0, 0.0]), ((59, 16), [1.0, 0.0]), ((15, 52), [1.0, 0.0]), ((5, 47), [1.0, 0.0]), ((46, 15), [0.0, 1.0]), ((22, 31), [0.0, 1.0]), ((22, 37), [1.0, 0.0]), ((38, 32), [0.0, 1.0]), ((8, 2), [0.0, 1.0]), ((44, 9), [0.0, 1.0]), ((23, 37), [0.0, 1.0]), ((3, 47), [0.0, 1.0]), ((22, 36), [0.0, 1.0]), ((7, 47), [0.0, 1.0]), ((44, 10), [0.0, 1.0]), ((4, 47), [0.0, 1.0]), ((2, 47), [0.0, 1.0]), ((44, 11), [0.0, 1.0]), ((13, 52), [0.0, 1.0]), ((12, 6), [0.0, 1.0]), ((15, 56), [0.0, 1.0]), ((43, 14), [0.0, 1.0]), ((19, 6), [0.0, 1.0]), ((1, 27), [0.0, 1.0]), ((43, 60), [0.0, 1.0]), ((47, 39), [0.0, 1.0]), ((18, 34), [0.0, 1.0]), ((1, 8), [1.0, 0.0]), ((3, 17), [0.0, 1.0]), ((5, 17), [1.0, 0.0]), ((20, 20), [0.0, 1.0]), ((0, 52), [0.0, 1.0]), ((61, 27), [0.0, 1.0]), ((59, 46), [1.0, 0.0]), ((45, 50), [0.0, 1.0]), ((61, 52), [0.0, 1.0]), ((58, 38), [1.0, 0.0]), ((35, 22), [0.0, 1.0]), ((32, 26), [0.0, 1.0]), ((61, 46), [0.0, 1.0]), ((47, 50), [1.0, 0.0]), ((62, 38), [0.0, 1.0]), ((6, 17), [0.0, 1.0]), ((46, 54), [0.0, 1.0]), ((6, 13), [1.0, 0.0]), ((63, 29), [0.0, 1.0]), ((27, 58), [0.0, 1.0]), ((63, 31), [0.0, 1.0]), ((14, 4), [0.0, 1.0]), ((48, 50), [0.0, 1.0]), ((50, 50), [0.0, 1.0]), ((15, 4), [1.0, 0.0]), ((50, 23), [1.0, 0.0]), ((24, 34), [0.0, 1.0]), ((16, 58), [0.0, 1.0]), ((40, 16), [0.0, 1.0]), ((21, 12), [1.0, 0.0]), ((38, 63), [0.0, 1.0]), ((13, 17), [0.0, 1.0]), ((15, 7), [0.0, 1.0]), ((15, 8), [0.0, 1.0]), ((40, 14), [1.0, 0.0]), ((17, 58), [1.0, 0.0]), ((50, 26), [0.0, 1.0]), ((21, 9), [0.0, 1.0]), ((20, 59), [0.0, 1.0]), ((46, 48), [0.0, 1.0]), ((21, 8), [0.0, 1.0]), ((58, 11), [0.0, 1.0]), ((17, 8), [1.0, 0.0]), ((40, 10), [0.0, 1.0]), ((47, 26), [1.0, 0.0]), ((40, 12), [0.0, 1.0]), ((13, 58), [0.0, 1.0]), ((17, 7), [1.0, 0.0]), ((19, 58), [0.0, 1.0]), ((15, 39), [0.0, 1.0]), ((7, 54), [0.0, 1.0]), ((15, 43), [0.0, 1.0]), ((42, 10), [1.0, 0.0]), ((16, 7), [0.0, 1.0]), ((16, 8), [0.0, 1.0]), ((17, 43), [1.0, 0.0]), ((12, 62), [0.0, 1.0]), ((21, 61), [0.0, 1.0]), ((37, 26), [0.0, 1.0]), ((23, 2), [0.0, 1.0]), ((39, 51), [0.0, 1.0]), ((59, 37), [0.0, 1.0]), ((17, 46), [0.0, 1.0]), ((59, 39), [1.0, 0.0]), ((16, 3), [1.0, 0.0]), ((39, 20), [0.0, 1.0]), ((31, 6), [0.0, 1.0]), ((47, 57), [1.0, 0.0]), ((9, 53), [0.0, 1.0]), ((44, 54), [1.0, 0.0]), ((43, 16), [1.0, 0.0]), ((39, 41), [0.0, 1.0]), ((48, 57), [0.0, 1.0]), ((49, 57), [0.0, 1.0]), ((50, 57), [0.0, 1.0]), ((47, 61), [0.0, 1.0]), ((45, 54), [0.0, 1.0]), ((44, 51), [0.0, 1.0]), ((47, 59), [0.0, 1.0]), ((45, 57), [0.0, 1.0]), ((19, 44), [0.0, 1.0]), ((48, 26), [0.0, 1.0]), ((49, 58), [1.0, 0.0]), ((9, 41), [0.0, 1.0]), ((15, 63), [0.0, 1.0]), ((51, 15), [1.0, 0.0]), ((8, 15), [1.0, 0.0]), ((49, 34), [0.0, 1.0]), ((56, 9), [0.0, 1.0]), ((32, 58), [0.0, 1.0]), ((46, 46), [1.0, 0.0]), ((53, 34), [0.0, 1.0]), ((49, 46), [0.0, 1.0]), ((49, 55), [0.0, 1.0]), ((8, 17), [0.0, 1.0]), ((53, 10), [0.0, 1.0]), ((53, 19), [1.0, 0.0]), ((21, 51), [0.0, 1.0]), ((23, 28), [0.0, 1.0]), ((43, 36), [0.0, 1.0]), ((61, 39), [0.0, 1.0]), ((39, 7), [0.0, 1.0]), ((23, 29), [1.0, 0.0]), ((42, 36), [1.0, 0.0]), ((40, 35), [0.0, 1.0]), ((15, 48), [0.0, 1.0]), ((13, 36), [0.0, 1.0]), ((0, 44), [0.0, 1.0]), ((57, 25), [0.0, 1.0]), ((7, 11), [1.0, 0.0]), ((25, 53), [0.0, 1.0]), ((29, 33), [0.0, 1.0]), ((11, 10), [1.0, 0.0]), ((20, 29), [0.0, 1.0]), ((29, 29), [1.0, 0.0]), ((44, 36), [0.0, 1.0]), ((11, 32), [0.0, 1.0]), ((36, 23), [0.0, 1.0]), ((56, 20), [1.0, 0.0]), ((19, 14), [1.0, 0.0]), ((32, 32), [0.0, 1.0]), ((58, 34), [0.0, 1.0]), ((29, 28), [0.0, 1.0]), ((30, 32), [1.0, 0.0]), ((11, 11), [0.0, 1.0]), ((10, 32), [1.0, 0.0]), ((11, 9), [0.0, 1.0]), ((11, 8), [0.0, 1.0]), ((29, 27), [0.0, 1.0]), ((24, 24), [0.0, 1.0]), ((42, 47), [1.0, 0.0]), ((1, 17), [0.0, 1.0]), ((31, 32), [0.0, 1.0]), ((38, 47), [0.0, 1.0]), ((39, 47), [0.0, 1.0]), ((8, 8), [1.0, 0.0]), ((26, 34), [1.0, 0.0]), ((45, 43), [1.0, 0.0]), ((23, 43), [0.0, 1.0]), ((46, 23), [0.0, 1.0]), ((12, 54), [0.0, 1.0]), ((27, 5), [0.0, 1.0]), ((46, 22), [1.0, 0.0]), ((59, 55), [0.0, 1.0]), ((18, 5), [0.0, 1.0]), ((33, 56), [0.0, 1.0]), ((44, 62), [0.0, 1.0]), ((3, 29), [0.0, 1.0]), ((50, 63), [1.0, 0.0]), ((34, 5), [0.0, 1.0]), ((15, 60), [1.0, 0.0]), ((25, 11), [1.0, 0.0])]



chosen_coords = [x[0] for x in chosen]

sub_constraints = []
for cc in chosen_coords:
  x,y = cc
  s_val = bool(rendered_squares[y][x] == 1.0)
  l_val = bool(rendered_lines[y][x] == 1.0)
  sub_constraints.append(((x,y),'square',s_val))
  sub_constraints.append(((x,y),'line',l_val))

sub_constraints = [((0, 0), 'square', False), ((35, 5), 'square', True), ((35, 5), 'line', True), ((41, 51), 'square', True), ((41, 51), 'line', False), ((15, 3), 'square', True), ((15, 3), 'line', False), ((40, 61), 'square', False), ((40, 61), 'line', False), ((27, 39), 'square', False), ((27, 39), 'line', False), ((13, 18), 'square', True), ((13, 18), 'line', False), ((58, 54), 'square', False), ((58, 54), 'line', True), ((5, 1), 'square', True), ((5, 1), 'line', False), ((30, 4), 'square', True), ((30, 4), 'line', False), ((56, 2), 'square', True), ((56, 2), 'line', False), ((19, 56), 'square', True), ((19, 56), 'line', False), ((55, 48), 'square', False), ((55, 48), 'line', False), ((39, 59), 'square', True), ((39, 59), 'line', False), ((15, 38), 'square', False), ((15, 38), 'line', False), ((54, 3), 'square', False), ((54, 3), 'line', False), ((52, 42), 'square', False), ((52, 42), 'line', False), ((61, 14), 'square', False), ((61, 14), 'line', False), ((44, 45), 'square', True), ((44, 45), 'line', False), ((41, 4), 'square', False), ((41, 4), 'line', False), ((20, 19), 'square', False), ((20, 19), 'line', False), ((55, 44), 'square', True), ((55, 44), 'line', False), ((63, 32), 'square', True), ((63, 32), 'line', False), ((17, 27), 'square', True), ((17, 27), 'line', False), ((25, 47), 'square', False), ((25, 47), 'line', True), ((40, 42), 'square', False), ((40, 42), 'line', False), ((6, 44), 'square', True), ((6, 44), 'line', False), ((3, 15), 'square', True), ((3, 15), 'line', False), ((46, 5), 'square', False), ((46, 5), 'line', True), ((17, 34), 'square', True), ((17, 34), 'line', False), ((48, 52), 'square', True), ((48, 52), 'line', False), ((34, 40), 'square', False), ((34, 40), 'line', False), ((29, 31), 'square', False), ((29, 31), 'line', True), ((11, 9), 'square', True), ((11, 9), 'line', False), ((29, 46), 'square', False), ((29, 46), 'line', False), ((40, 23), 'square', False), ((40, 23), 'line', False), ((47, 47), 'square', True), ((47, 47), 'line', False), ((46, 35), 'square', False), ((46, 35), 'line', False), ((25, 43), 'square', False), ((25, 43), 'line', False), ((39, 40), 'square', False), ((39, 40), 'line', True), ((59, 10), 'square', True), ((59, 10), 'line', False), ((51, 40), 'square', False), ((51, 40), 'line', False), ((39, 42), 'square', False), ((39, 42), 'line', True), ((32, 39), 'square', False), ((32, 39), 'line', False), ((63, 16), 'square', True), ((63, 16), 'line', False), ((53, 41), 'square', False), ((53, 41), 'line', False), ((10, 42), 'square', False), ((10, 42), 'line', True), ((25, 52), 'square', False), ((25, 52), 'line', False), ((6, 25), 'square', False), ((6, 25), 'line', False), ((40, 11), 'square', False), ((40, 11), 'line', True), ((14, 43), 'square', False), ((14, 43), 'line', False), ((23, 30), 'square', False), ((23, 30), 'line', True), ((14, 44), 'square', False), ((14, 44), 'line', False), ((32, 47), 'square', False), ((32, 47), 'line', True), ((33, 63), 'square', False), ((33, 63), 'line', True), ((34, 47), 'square', False), ((34, 47), 'line', False), ((25, 55), 'square', False), ((25, 55), 'line', True), ((16, 41), 'square', True), ((16, 41), 'line', False), ((32, 30), 'square', False), ((32, 30), 'line', True), ((43, 62), 'square', False), ((43, 62), 'line', True), ((19, 22), 'square', False), ((19, 22), 'line', True), ((4, 36), 'square', False), ((4, 36), 'line', False), ((59, 42), 'square', False), ((59, 42), 'line', True), ((23, 49), 'square', False), ((23, 49), 'line', False), ((42, 36), 'square', False), ((42, 36), 'line', False), ((28, 63), 'square', False), ((28, 63), 'line', False), ((25, 14), 'square', False), ((25, 14), 'line', False), ((7, 56), 'square', False), ((7, 56), 'line', False), ((58, 38), 'square', False), ((58, 38), 'line', False), ((6, 30), 'square', False), ((6, 30), 'line', False), ((33, 45), 'square', False), ((33, 45), 'line', False), ((48, 48), 'square', False), ((48, 48), 'line', False), ((15, 14), 'square', False), ((15, 14), 'line', True), ((34, 46), 'square', False), ((34, 46), 'line', False), ((34, 49), 'square', False), ((34, 49), 'line', False), ((30, 25), 'square', False), ((30, 25), 'line', False), ((33, 49), 'square', False), ((33, 49), 'line', True), ((30, 23), 'square', False), ((30, 23), 'line', False), ((58, 46), 'square', False), ((58, 46), 'line', False), ((40, 15), 'square', False), ((40, 15), 'line', True), ((55, 39), 'square', False), ((55, 39), 'line', False)]


invert(sub_constraints, "ex_box_line1")
